const t=new()=>({url:"",limit:5,offset:0,init:function(t){this.url=t.url,this.limit=t.limit,this.offset=t.offset,this.loadImages(this.renderData),this.infiniteScroll(this.infinteScrollCallback(this.afterScrollAction.bind(this)))},loadImages:async function(t){let e=this.url;e+=`?limit=${this.limit}&offset=${this.offset}`,await fetch(e).then(t=>t.json()).then(e=>t(e)).catch(t=>console.log(t))},renderData:function(t){let e=document.querySelector("#app");t.photos.forEach(t=>{let n=document.createElement("img");n.src=t.url,n.width=200,e.append(n)})},infinteScrollCallback:function(t){var e=!0,n=this.offset,i=this.limit;return()=>{document.documentElement.scrollHeight-(document.documentElement.scrollTop+document.documentElement.clientHeight)<50&&e&&(console.log(e),e=!1,console.log("scrolled : ",document.documentElement.scrollHeight-(document.documentElement.scrollTop+document.documentElement.clientHeight)),t(i,n).then(t=>{n+=i,e=!0}))}},afterScrollAction:function(){return new Promise((t,e)=>{this.loadImages(this.renderData).then(e=>t("success"))})},infiniteScroll:function(t){window.addEventListener("scroll",t)}});t.init({url:"https://api.slingacademy.com/v1/sample-data/photos",limit:5,offset:0});
//# sourceMappingURL=index.86743cfe.js.map
